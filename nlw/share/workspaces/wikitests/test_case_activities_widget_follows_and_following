| *Comment* | Test Case: Activities Widget Follows and Following |

* Fixture: SocialWidgets

| *Comment* | Test Case: Activities Widget Tags Follows and Following Setup |  |
| set | wrkspc | follow-ws%%start_time%% |
| set | followuser | awtuser%%start_time%%@ken.socialtext.next |
| set | followusershort | awtuser%%start_time%% |
| st-admin | create-workspace --name %%wrkspc%% --title %%wrkspc%% |  |
| st-admin | create-user --email %%followuser%% --password %%password%% |  |
| st-admin | add-member --email %%username%% --workspace %%wrkspc%% |  |
| st-admin | add-member --email %%followuser%% --workspace %%wrkspc%% |  |

| *Comment* | Test Case: Activities Widget Tags Follows and Following Login, Follow me |  |
| st-logoutin | %%followuser%% | %%password%% |
| st-find-user | %%short_username%% |  |
| wait_for_element_visible_ok | new_tag | 30000 |
| wait_for_element_visible_ok | link=Follow this person | 30000 |
| click_ok | link=Follow this person |  |
| wait_for_element_visible_ok | link=Stop following this person | 30000 |

| *Comment* | Test Case: Activities Widget Tags Follows and Following Login as me, Follow other |  |
| st-logoutin | %%username%% | %%password%% |
| st-find-user | %%followusershort%% |  |
| wait_for_element_visible_ok | new_tag | 30000 |
| wait_for_element_visible_ok | link=Follow this person | 30000 |
| click_ok | link=Follow this person |  |
| wait_for_element_visible_ok | link=Stop following this person | 30000 |

| *Comment* | Test Case: Activities Widget Tags Follows and Following Goto Widget, Check Results |  |
| open_ok | /?dashboard |  |
| st-single-widget-in-dashboard | gallery-widget-Activities |  |
| st-name-widget | 1 | activities_widget |
| st-widget-title-like | activities_widget | Activities |

| *Comment* | Test Case: Activities Widget Tags and Tagging Verify Tags in activities widget |
| pause | 60000 |
| st_verify_text_in_activities_widget | activities_widget | qr/%%short_username%%.+minute.+ago.+tagged %%pagename%% in %%wrkspc%% as %%pagetag%%.+%%short_username%%.+minute.+ago.+edited %%pagename%% in %%wrkspc%%.+%%short_username%%.+minute.+ago.+tagged themself %%personaltag%%.+%%short_username%%.+minute.+ago.+tagged %%tagusershort%% %%othertag%%/ |

| st_verify_text_in_activities_widget | activities_widget | qr/%%short_username%%.+minute.+ago.+tagged %%pagename%% in %%wrkspc%% as %%pagetag%%./ |
| st_verify_text_in_activities_widget | activities_widget | qr/%%short_username%%.+minute.+ago.+edited %%pagename%% in %%wrkspc%%./ |
| st_verify_text_in_activities_widget | activities_widget | qr/%%short_username%%.+minute.+ago.+tagged themself %%personaltag%%./ |
| st_verify_text_in_activities_widget | activities_widget | qr/%%short_username%%.+minute.+ago.+tagged %%tagusershort%% %%othertag%%./ |

| *Comment* | Test Case: Activities Widget Follows and Following TODO |
