| *Comment* | Test Case: Tools: Delete Page |

| setSpeed | 150 |  |
| *Comment* | Tools: Delete Page: Create test page |  |
| open_ok | /%%workspace%%/index.cgi?action=dashboard |  |
| click_and_wait | st-newpage-link |  |
| wait_for_element_visible_ok | link=Advanced | 10000 |
| click_ok | link=Advanced |  |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 10000 |
| type_ok | st-newpage-pagename-edit | delete_testpage_%%start_time%% |
| type_ok | wikiwyg_wikitext_textarea | delete_testpage_content_%%start_time%% |
| click_and_wait | st-save-button-link |  |

| *Comment* | Tools: Delete Page: Create backlinking page |  |
| open_ok | /%%workspace%%/index.cgi?action=dashboard |  |
| click_and_wait | st-newpage-link |  |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 10000 |
| type_ok | st-newpage-pagename-edit | backlink_testpage_%%start_time%% |
| type_ok | wikiwyg_wikitext_textarea | [delete_testpage_%%start_time%%] |
| click_and_wait | st-save-button-link |  |

| *Comment* | Tools: Delete Page: Test functions |  |
| open_ok | /%%workspace%%/index.cgi?delete_testpage_%%start_time%% |  |
| click_and_wait | link=Delete Page |  |
| confirmation_like | Are you sure you want to delete this page? |  |
| text_like | st-deleted | Deleted "delete_testpage_%%start_time%%" |
| text_like | st-deleted | backlink_testpage_%%start_time%% |
| click_and_wait | //input[@value='Restore Page'] |  |
| text_like | st-content-page-display | delete_testpage_content_%%start_time%% |
| click_and_wait | st-rewind-revision-count |  |
| text_like | st-revisionlist | qr/revision 1.+revision 1.+revision 1/ |
| click_and_wait | Button |  |
| text_like | st-revision-compare-table | delete_testpage_content_%%start_time%% |
| click_and_wait | st-back-to-current-revision-link |  |
| click_and_wait | link=Delete Page |  |
| confirmation_like | Are you sure you want to delete this page? |  |
| open_ok | /%%workspace%%/index.cgi?action=dashboard |  |
| open_ok | /%%workspace%%/index.cgi?backlink_testpage_%%start_time%% |  |
| text_like | st-page-maincontent | delete_testpage_%%start_time%% |
| click_and_wait | link=delete_testpage_%%start_time%% |  |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 10000 |
| type_ok | wikiwyg_wikitext_textarea | new_content_%%start_time%% |
| click_and_wait | st-save-button-link |  |
| click_and_wait | st-rewind-revision-count |  |
| text_like | st-revisionlist | qr/revision 2.+revision 1.+revision 1.+revision 1.+revision 1/ |
| click_and_wait | Button |  |
| text_like | st-revision-compare-table | new_content_%%start_time%% |

| *Comment* | Tools: Delete Page: Teardown |  |
| open_ok | /%%workspace%%/index.cgi?action=dashboard |  |
| st-admin | purge-page --workspace %%workspace%% --page delete_testpage_%%start_time%% | page was purged |
| st-admin | purge-page --workspace %%workspace%% --page backlink_testpage_%%start_time%% | page was purged |

| *Comment* | Test Case: Tools: Delete Page COMPLETED |
