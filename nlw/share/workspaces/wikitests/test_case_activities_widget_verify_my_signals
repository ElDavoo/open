| *Comment* | Test Case: Activities Widget Verify My Signals. Get a fresh Activities widget |  |
| st-catchup-logs |  |  |
| st-logoutin | %%signalsuser%% | %%password%% |
| st_single_widget_in_dashboard | gallery-widget-Activities |  |

| *Comment* | Test Case: Activities Widget Verify My Signals. Back at Dashboard with widget |  |
| wait_for_text_present_ok | Welcome | 30000 |
| text_like | st-editing-tools-edit | Welcome |
| wait_for_text_present_ok | Activities | 30000 |
| st-name-widget | 1 | activities_widget |
| st-widget-title-like | activities_widget | Activities |
| st-widget-settings | activities_widget |  |
| wait_for_element_visible_ok | up_limit | 30000 |
| select_ok | up_limit | 25 |
| click_ok | st-savebutton-%%activities_widget%% |  |
| wait_for_element_not_visible_ok | up_limit | 30000 |

| *Comment* | Test Case: Activities Widget Verify My Signals. Signals in widget. Select signals. |  |
| wait_for_element_present_ok | link=signals | 10000 |
| click_ok | link=signals |  |
| st-select-widget-frame | activities_widget |  |

| *Comment* | Test Case: Activities Widget Verify My Signals. select_and_wait in iframe doesn't work. Use pause. |  |
| pause | 10000 | I hate pause |
| wait_for_text_present_ok | She rocks in the treehouse %%start_time%% | 30000 |
| wait_for_text_present_ok | Rockin and a bopin %%start_time%% | 30000 |
| wait_for_text_present_ok | All the little birds %%start_time%% | 30000 |
| wait_for_text_present_ok | Love to hear the robin going %%start_time%% | 30000 |
| wait_for_text_present_ok | Signal %%start_time%% | 30000 |
| text_like | //body | qr/Super.+Edit.+Summary.+From.+Signal.+%%start_time%%/ |
| select-frame | relative=parent |  |

| *Comment* | Test case: Activities Widget Verify My Signals. Wait for Signal to appear in Profile Activity |  |
| open_ok | /st/profile |  |
| wait_for_text_present_ok | Activity | 30000 |
| st-name-widget | 3 | profile_activity |
| st-widget-title-like | profile_activity | Activity |
| st-select-widget-frame | profile_activity |  |

| wait_for_text_present_ok | She rocks in the treehouse %%start_time%% | 120000 |
| wait_for_text_present_ok | Rockin and a bopin %%start_time%% | 120000 |
| wait_for_text_present_ok | All the little birds %%start_time%% | 120000 |
| wait_for_text_present_ok | Love to hear the robin going %%start_time%% | 120000 |
| wait_for_text_present_ok | Signal %%start_time%% | 120000 |
| text_like | //body | qr/Super.+Edit.+Summary.+From.+Signal.+%%start_time%%/ |
| select-frame | relative=parent |  |

| *Comment* | Test case: Activities Widget Verify My Signals. Check Dashboard, then wait for auto refresh |  |
| open_ok | / |  |
| wait_for_text_present_ok | Welcome | 30000 |
| text_like | st-editing-tools-edit | Welcome |
| wait_for_text_present_ok | Activities | 30000 |
| st-name-widget | 1 | activities_widget |
| st-widget-title-like | activities_widget | Activities |
| st-select-widget-frame | activities_widget |  |

| *Comment* | Test case: Activities Widget Verify My Signals. Signals should still be there |  |
| wait_for_text_present_ok | She rocks in the treehouse %%start_time%% | 10000 |
| wait_for_text_present_ok | Rockin and a bopin %%start_time%% | 10000 |
| wait_for_text_present_ok | All the little birds %%start_time%% | 10000 |
| wait_for_text_present_ok | Love to hear the robin going %%start_time%% | 10000 |
| wait_for_text_present_ok | Signal %%start_time%% | 10000 |
| text_like | //body | qr/Super.+Edit.+Summary.+From.+Signal.+%%start_time%%/ |
| select-frame | relative=parent |  |

| *Comment* | Test case: Activities Widget Verify My Signals. check for agreement with Signals page |  |
| click_and_wait | link=Signals |  |

| wait_for_element_present_ok | //iframe[@name='widget_2'] | 30000 |
| st-name-widget | 3 | signal_activity |
| st-widget-title-like | signal_activity | Signals |
| st-select-widget-frame | signal_activity |  |

| wait_for_text_present_ok | She rocks in the treehouse %%start_time%% | 10000 |
| wait_for_text_present_ok | Rockin and a bopin %%start_time%% | 10000 |
| wait_for_text_present_ok | All the little birds %%start_time%% | 10000 |
| wait_for_text_present_ok | Love to hear the robin going %%start_time%% | 10000 |
| wait_for_text_present_ok | Signal %%start_time%% | 10000 |
| text_like | //body | qr/Super.+Edit.+Summary.+From.+Signal.+%%start_time%%/ |
| select-frame | relative=parent |  |
