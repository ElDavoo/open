| *Comment* | Test Case: Page Creator Widget |  |

| set | pcw_user | pcw.user.%%start_time%%@david.socialtext.net |
| set | pcw_acct | pcw_account_%%start_time%% |
| set | pcw_wiki | pcw-wiki-%%start_time%% |
| set | pcw_wiki_prefix | pcw |
| set | pcw_wiki_suffix | wiki-%%start_time%% |
| set | pcw_grp | pcw_group_%%start_time%% |
| set | pcw_template_page | pcw-template-page-%%start_time%% |
| set | pcw_template_page_prefix | pcw |
| set | pcw_template_page_suffix | template-page-%%start_time%% |
| set | pcw_form_page | pcw-form-page-%%start_time%% |

| create-account | %%pcw_acct%% |  |  |
| create-workspace | %%pcw_wiki%% | %%pcw_acct%% |  |
| create-user | %%pcw_user%% | %%password%% | %%pcw_acct%% |
| add-member | %%pcw_user%% | %%pcw_wiki%% |  |
| create-group | %%pcw_grp%% | %%pcw_acct%% | %%pcw_user%% |
| st-logoutin | %%pcw_user%% | %%password%% |  |

| *Comment* | Test Case: Page Creator Widget check all widget galleries for widget |  |
| open_ok | /st/dashboard |  |
| wait_for_element_visible_ok | link=Add Widget | 30000 |
| click_and_wait | link=Add Widget |  |
| wait_for_element_visible_ok | gallery-widget-Page Creator | 30000 |
| wait_for_text_present_ok | Create pages from customized forms. | 30000 |
| open_ok | /st/group/%%group_id%% |  |
| wait_for_element_visible_ok | st-edit-layout | 30000 |
| click_ok | st-edit-layout |  |
| wait_for_element_visible_ok | st-add-widget | 30000 |
| click_ok | st-add-widget |  |
| wait_for_element_visible_ok | gallery-widget-Page Creator | 30000 |
| wait_for_text_present_ok | Create pages from customized forms. | 30000 |
| open_ok | /st/profile |  |
| wait_for_element_visible_ok | st-edit-layout | 30000 |
| click_ok | st-edit-layout |  |
| wait_for_element_visible_ok | st-add-widget | 30000 |
| click_ok | st-add-widget |  |
| wait_for_element_visible_ok | gallery-widget-Page Creator | 30000 |
| wait_for_text_present_ok | Create pages from customized forms. | 30000 |

| *Comment* | Test Case: Page Creator Widget create a template page to feed into the widget |  |
| open_ok | /%%pcw_wiki%%/?action=new_page |  |
| wait_for_element_visible_ok | link=Wiki Text | 30000 |
| click_ok | link=Wiki Text |  |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 30000 |
| wait_for_element_visible_ok | st-newpage-pagename-edit |  |
| type_ok | st-newpage-pagename-edit | %%pcw_template_page%% |
| type_ok | wikiwyg_wikitext_textarea | input: %%dev%% |
| click_ok | st-edit-mode-tagbutton |  |
| wait_for_element_visible_ok | st-tagqueue-field | 30000 |
| type_ok | st-tagqueue-field | story |
| click_ok | st-tagqueue-addbutton |  |
| wait_for_text_present_ok | Tags to apply: story | 30000 |
| type_ok | st-tagqueue-field | template |
| click_ok | st-tagqueue-addbutton |  |
| wait_for_text_present_ok | Tags to apply: story, template | 30000 |
| click_ok | st-tagqueue-close |  |
| wait_for_element_not_visible_ok | st-tagqueue-field | 10000 |
| st-page-save |

| *Comment* | Test Case: Page Creator Widget make a new page, insert the widget |  |
| open_ok | /%%pcw_wiki%%/?action=new_page |  |
| wait_for_element_visible_ok | link=Wiki Text | 30000 |
| click_ok | link=Wiki Text |  |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 30000 |
| wait_for_element_visible_ok | st-newpage-pagename-edit |  |
| type_ok | st-newpage-pagename-edit | %%pcw_form_page%% |
| type_ok | wikiwyg_wikitext_textarea |  |
| click_ok | link=Widget... |  |
| wait_for_element_visible_ok | gallery-widget-Page Creator | 30000 |
| wait_for_text_present_ok | Create pages from customized forms. | 30000 |
| click_ok | gallery-widget-Page Creator |  |

| *Comment* | Test Case: Page Creator Widget verify and fill out the Basics section |  |
| wait_for_text_present_ok | Basics | 30000 |
| wait_for_text_present_ok | Workspace: | 30000 |
| wait_for_text_present_ok | Template: | 30000 |
| wait_for_text_present_ok | Page Title: | 30000 |
| wait_for_text_present_ok | Widget Title: | 30000 |
| type_lookahead_ok | Workspace | %%pcw_wiki_prefix%% |
| wait_for_element_visible_ok | //div[@class='lookaheadItem']/a[contains(text(),'%%pcw_wiki_suffix%%')] | 30000 |
| click_ok | //div[@class='lookaheadItem']/a[contains(text(),'%%pcw_wiki_suffix%%')] |  |
| type_lookahead_ok | Template | %%pcw_template_page_prefix%% |
| wait_for_element_visible_ok | //div[@class='lookaheadItem']/a[contains(text(),'%%pcw_templage_page_suffix%%')] | 30000 |
| click_ok | //div[@class='lookaheadItem']/a[contains(text(),'%%pcw_template_page_suffix%%')] |  |
| type_ok | PageTitle | %%type%%: %%title%% |
| verifyValue | Title | Page Creator |
