| *Comment* | Test Case: Dashboard |

*Test each link at the top of the Dashboard to see that it navigates to the correct place.*

| *Comment* | Test Case: Dashboard links |  |
| open_ok | /%%workspace%%/ |  |
| text_like | st-wiki-title | Dashboard: |
| clickAndWait | link=Settings |  |
| text_like | st-settings-select | Settings |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| clickAndWait | st-wiki-subnav-link-whats-new |  |
| text_like | st-list-title | Changes in Last |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| clickAndWait | st-wiki-subnav-link-weblogs |  |
| text_like | st-weblog-titletext | Weblog: |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| clickAndWait | st-wiki-subnav-link-all-files |  |
| text_like | st-list-title | All Files in |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| clickAndWait | st-wiki-subnav-link-all-tags |  |
| text_like | st-list-title | All Tags in |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| clickAndWait | st-wiki-subnav-link-all-pages |  |
| text_like | st-list-title | All Pages |

*Create some new pages for this series of tests*

| *Comment* | Test Case: Dashboard Create new pages |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| clickAndWait | st-newpage-link |  |
| wait_for_element_visible_ok | link=Advanced | 30000 |
| click_ok | link=Advanced |  |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 30000 |
| type_ok | wikiwyg_wikitext_textarea | tc_dashboard1_%%start_time%% |
| type_ok | st-newpage-pagename-edit | tc_dashboard1_%%start_time%% |
| clickAndWait | st-save-button-link |  |
| st-watch-page | 1 |  |
| st-is-watched | 1 |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| clickAndWait | st-newpage-link |  |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 30000 |
| type_ok | st-newpage-pagename-edit | tc_dashboard2_%%start_time%% |
| type_ok | wikiwyg_wikitext_textarea | tc_dashboard2_%%start_time%% |
| clickAndWait | st-save-button-link |  |
| st-watch-page | 1 |  |
| st-is-watched | 1 |  |

*Observe "What's New" breadcrumb*

| *Comment* | Test Case: Dashboard What's New |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| clickAndWait | st-wiki-subnav-link-whats-new |  |
| text_like | st-list-title | Changes in Last |
| text_like | st-recent_changes-header-row | Title |
| text_like | st-recent_changes-header-row | Last Edited By |
| text_like | st-recent_changes-header-row | Date |
| text_like | st-recent_changes-header-row | Revisions |

*Settings => What's New. Choose and save a different number of entries, N.*

| *Comment* | Test Case: Dashboard Interval |  |
| clickAndWait | link=Settings |  |
| clickAndWait | link=What's New |  |
| select_ok | recent_changes__changes_depth | label=Last Month |
| clickAndWait | Button |  |
| clickAndWait | st-wiki-subnav-link-whats-new |  |
| text_like | st-list-title | Changes in Last Month |
| clickAndWait | link=Settings |  |
| clickAndWait | link=What's New |  |
| select_ok | recent_changes__changes_depth | label=Last Week |
| clickAndWait | Button |  |
| clickAndWait | st-wiki-subnav-link-whats-new |  |
| text_like | st-list-title | Changes in Last Week |

*Observe "What's new in WORKSPACE"*

| *Comment* | Test Case: Dashboard set What's new to display 10 |  |
| clickAndWait | link=Settings |  |
| clickAndWait | link=What's New |  |
| select_ok | recent_changes__sidebox_changes_depth | label=10 |
| clickAndWait | Button |  |

| *Comment* | Test Case: Dashboard What's new in WORKSPACE |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| text_like | st-whats-new-title-link | What's new in |
| text_like | st-newpage-link | New Page |
| text_like | st-whats-new-content | tc_dashboard1_%%start_time%% |
| text_like | st-whats-new-content | tc_dashboard2_%%start_time%% |
| clickAndWait | st-whats-new-title-link |  |
| text_like | st-list-title | Changes in Last |
| text_like | st-recent_changes-content | tc_dashboard1_%%start_time%% |
| text_like | st-recent_changes-content | tc_dashboard2_%%start_time%% |

| text_like | Title |  |
| text_like | Last Edited By |  |
| text_like | Date |  |
| text_like | Revisions |  |

*Observe "Your Watchlist" link | System displays Watchlist*

| *Comment* | Test Case: Dashboard Watchlist |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| text_like | st-watchlist-title-link | Your watchlist |
| text_like | st-watchlist-content | tc_dashboard1_%%start_time%% |
| text_like | st-watchlist-content | tc_dashboard2_%%start_time%% |
| clickAndWait | st-watchlist-title-link |  |
| text_like | st-list-title | Pages You're Watching |
| text_like | st-watchlist-content | tc_dashboard1_%%start_time%% |
| text_like | st-watchlist-content | tc_dashboard2_%%start_time%% |
| text_like | Title |
| text_like | Last Edited By |
| text_like | Date |
| text_like | Revisions |

*Clean out Watchlist so this test can run multiple times and not fill up watchlist*

| st-watch-page | 0 | tc_dashboard1_%%start_time%% |
| st-is-watched | 0 | tc_dashboard1_%%start_time%% |
| st-watch-page | 0 | tc_dashboard2_%%start_time%% |
| st-is-watched | 0 | tc_dashboard2_%%start_time%% |

* Observe "Your workspaces" | System displays up to ten most recently visited workspaces with number of recent changes*

NOTE: in general, there is no way to know the Title of any workspace in the list. There is no guarantee that the title is Canonical Test Data Set, depending on the value of %%workspace%%. Perhaps we can read the title and set it in a variable.

 *Comment* Why doesn't Selenese command storeText work? 
 *Comment* Test depends on new version of template workspaces_listall_section

| *Comment* | Test Case: Dashboard Your workspaces |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| text_like | st-wikis-title-link | Your workspaces |
| clickAndWait | link=Your workspaces |  |
| text_like | The ten most recently visited |  |
| text_like | st-settings-section | Workspace Title |
| text_like | st-settings-section | Workspace Name |

| *Comment* | Test Case: Dashboard test New Workspace link |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| text_like | st-newwiki-link | New Workspace |
| clickAndWait | link=New Workspace |  |
| text_like | st-settings-section | This is the title of your workspace |
| text_like | st-settings-section | This is a short unique identifier |

*Click on Announcements and Links title | System navigates to Announcements and Links page*

| *Comment* | Test Case: Dashboard A and L link |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| clickAndWait | link=Announcements and Links |  |
| text_like | st-page-titletext | Announcements and Links |

*Edit Announcements and Links | Page is displayed for editing, when page is saved, content is saved and displays properly in the dashboard view.*

| *Comment* | Test Case: Dashboard edit A and L |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| clickAndWait | st-group-notes-edit-link |  |
| *Comment* | Create a link in the A and L page |  |
| wait_for_element_visible_ok | link=Advanced | 30000 |
| click_ok | link=Advanced |  |

 *Comment* keep the word "wiki" in AandL. Needed by stemming tests. It's a hack, I know, for now

| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 30000 |
| type_ok | wikiwyg_wikitext_textarea | AandL by Test Case: Dashboard-%%start_time%% in my wikis |
| clickAndWait | st-save-button-link |  |
| text_like | AandL by Test Case: Dashboard-%%start_time%% |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| text_like | AandL by Test Case: Dashboard-%%start_time%% |  |

Click on Your Notepad title | System navigates to settings => Your notepad the first time the user clicks this link. 
After a page has been selected for Your Notepad, clicking the title will navigate to that page.

*The way to make a re-executable test for this is to use Settings => Your Notepad to set a unique page name.*

| *Comment* | Test Case: Dashboard set up Notepad |  |
| *Comment* | Create a unique notepad page |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| clickAndWait | link=Settings |  |
| clickAndWait | link=Your Notepad |  |
| type_ok | favorites__which_page | Notepad for %%start_time%% |
| clickAndWait | Button |  |

Edit Your Notepad | Page is displayed for editing, when page is saved, content is saved and displays properly in dashboard view

| *Comment* | Test Case: Dashboard open Notepad from Dashboard |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| clickAndWait | link=Your Notepad |  |
| *Comment* | incipient Notepad opens for Editing | *Editing: loads after the page* |
| wait_for_text_present_ok | Editing: | 30000 |
| wait_for_element_visible_ok | link=Advanced | 30000 |
| click_ok | link=Advanced |  |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 30000 |
| type_ok | wikiwyg_wikitext_textarea | Notepad entry for %%start_time%% |
| clickAndWait | st-save-button-link |  |
| text_like | Notepad entry for %%start_time%% |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| text_like | Notepad entry for %%start_time%% |  |

| *Comment* | Test Case: Dashboard open Notepad from Dashboard |  |
| *Comment* | existing Notepad opens for display |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| clickAndWait | link=Your Notepad |  |
| text_like | Notepad entry for %%start_time%% |  |

| *Comment* | Test Case: Dashboard edit Notepad from Dashboard |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| clickAndWait | st-personal-notes-edit-link |  |
| wait_for_text_present_ok | Editing: | 30000 |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 30000 |
| type_ok | wikiwyg_wikitext_textarea | Another Notepad entry for %%start_time%% |
| clickAndWait | st-save-button-link |  |
| text_like | Another Notepad entry for %%start_time%% |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| text_like | Another Notepad entry for %%start_time%% |  |

View infobox | something sensible displays; a message from Socialtext.

| *Comment* | Test Case: Dashboard test for DYK |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| text_like | st-dyk-title | Did you know? |
| text_like | st-dyk-content | Socialtext Customer Exchange |
| *Comment* | tests for default values only |  |

| *Comment* | Test Case: Dashboard Test for presence of logos |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| mouseOver | st-wiki-logo-image |  |
| mouseOver | st-socialtext-attribution-image |  |

observe link to Central Page | central page matches title of workspace, navigates to correct page

| *Comment* | Test Case: Dashboard test for central page link |  |

| *Comment* | This test depends on current version of test-data. Universal application would require an id for the Central Page link. |

| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| text_like | st-wiki-title-central-page-link | Central page: |
| clickAndWait | link=Canonical Test Data Set |  |
| text_like | Welcome to the |  |

Observe Invite your colleagues 
Click Invite Your Colleagues | Invite New Users interface page appears

| *Comment* | Test Case: Dashboard test for Invite Colleagues link |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| text_like | st-wiki-title-invite | Invite your colleagues |
| clickAndWait | //a[contains(@href, '?action=users_invitation')] |  |
| text_like | Invite Other Users |  |

| *Comment* | Test Case: Dashboard Teardown |  |

| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| click_and_wait | link=Settings |  |
| click_and_wait | link=Your Notepad |  |
| type_ok | favorites__which_page |  |
| click_and_wait | Button |  |

| open_ok | /%%workspace%%/index.cgi?Announcements%20and%20Links |  |
| click_and_wait | st-rewind-revision-count |  |
| click_and_wait | link=revision 1 |  |
| click_and_wait | document.forms[1].elements['Restore Revision'] |  |

| st-admin | purge-page --w %%workspace%% --page tc_dashboard1_%%start_time%% | page was purged |
| st-admin | purge-page --w %%workspace%% --page tc_dashboard2_%%start_time%% | page was purged |
| st-admin | purge-page --w %%workspace%% --page notepad_for_%%start_time%% | page was purged |

| *Comment* | Test Case: Dashboard COMPLETED |  |

Login as NON-admin | Observe the Invite your Colleagues line is GONE
COMMENT: this is tested in [Test case: Login/Logout]
