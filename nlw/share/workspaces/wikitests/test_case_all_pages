| *Comment* | Test Case: All Pages |  |
| *Comment* | Test Case: All Pages Set up |  |
| setSpeed | 100 |  |
| click_and_wait | st-newpage-link |  |
| wait_for_element_visible_ok | link=Advanced | 10000 |
| click_ok | link=Advanced |  |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 10000 |
| type_ok | wikiwyg_wikitext_textarea | allpages %%start_time%% 0001 content |
| type_ok | st-newpage-pagename-edit | allpages %%start_time%% 0001 |
| click_and_wait | st-save-button-link |  |
| click_and_wait | st-home-link |  |
| click_and_wait | st-newpage-link |  |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 10000 |
| type_ok | st-newpage-pagename-edit | allpages %%start_time%% 0002 |

| type_ok | wikiwyg_wikitext_textarea | allpages %%start_time%% 0002 content |
| click_and_wait | st-save-button-link |  |
| click_and_wait | st-home-link |  |
| click_and_wait | st-newpage-link |  |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 10000 |
| type_ok | st-newpage-pagename-edit | allpages %%start_time%% 0003 |
| type_ok | wikiwyg_wikitext_textarea | allpages %%start_time%% 0003 content |
| click_and_wait | st-save-button-link |  |
| click_and_wait | st-home-link |  |
| click_and_wait | st-newpage-link |  |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 10000 |
| type_ok | st-newpage-pagename-edit | allpages %%start_time%% 0004 |
| type_ok | wikiwyg_wikitext_textarea | allpages %%start_time%% 0004 content |
| click_and_wait | st-save-button-link |  |
| click_and_wait | st-home-link |  |

| *Comment* | Test Case: All Pages Title sorting |  |
| wait_for_element_present_ok | st-wiki-subnav-link-all-pages | 10000 |
| click_and_wait | st-wiki-subnav-link-all-pages |  |
| text_like | st-list-title | All Pages ( |
| click_and_wait | link=allpages %%start_time%% 0001 |  |
| text_like | st-page-titletext | allpages %%start_time%% 0001 |
| click_and_wait | st-home-link |  |
| click_and_wait | st-wiki-subnav-link-all-pages |  |
| click_and_wait | link=Titles |  |

| select_ok | sort-picker | label=Title |
| wait_for_element_present_ok | st-listview | 20000 |
| text_like | st-listview | qr/allpages %%start_time%% 0004.+allpages %%start_time%% 0001/ |
| wait_for_text_present_ok | Title (desc) | 10000 |
| select_ok | sort-picker | label=Title (desc) |
| wait_for_text_present_ok | Workspace Tour | 20000 |
| text_like | st-listview | qr/allpages %%start_time%% 0001.+allpages %%start_time%% 0004/ |
| wait_for_text_present_ok | Title (asc) | 10000 |
| select_ok | sort-picker | label=Title (asc) |
| text_like | st-listview | qr/allpages %%start_time%% 0004.+allpages %%start_time%% 0001/ |

| select_ok | sort-picker | label=Date |
| wait_for_text_present_ok | jabber | 20000 |
| text_like | st-listview | qr/allpages %%start_time%% 0004.+allpages %%start_time%% 0001/ |
| wait_for_text_present_ok | Date (asc) | 10000 |
| select_ok | sort-picker | label=Date (asc) |
| text_like | st-listview | qr/allpages %%start_time%% 0004.+allpages %%start_time%% 0001/ |
| wait_for_text_present_ok | Date (desc) | 10000 |
| select_ok | sort-picker | label=Date (desc) |
| text_like | st-listview | qr/allpages %%start_time%% 0001.+allpages %%start_time%% 0004/ |

| select_ok | sort-picker | label=Revisions |
| wait_for_text_present_ok | jabber | 20000 |
| text_like | st-listview | qr/allpages %%start_time%% 0001.+allpages %%start_time%% 0004/ |
| wait_for_text_present_ok | Revisions (asc) | 10000 |
| select_ok | sort-picker | label=Revisions (asc) |
| text_like | st-listview | qr/allpages %%start_time%% 0001.+allpages %%start_time%% 0004/ |
| wait_for_text_present_ok | Revisions (desc) | 10000 |
| select_ok | sort-picker | label=Revisions (desc) |
| text_like | st-listview | qr/allpages %%start_time%% 0001.+allpages %%start_time%% 0004/ |

| *Comment* | Test Case: All Pages Summaries sorting |  |

 click_and_wait | st-wiki-subnav-link-all-pages | |

| text_like | st-list-title | All Pages ( |
| click_and_wait | link=allpages %%start_time%% 0001 |  |
| text_like | st-page-titletext | allpages %%start_time%% 0001 |
| click_and_wait | st-home-link |  |
| click_and_wait | st-wiki-subnav-link-all-pages |  |
| click_and_wait | link=Summaries |  |

| select_ok | sort-picker | label=Title |
| wait_for_text_present_ok | Advanced Getting Around | 20000 |
| text_like | st-listview | qr/allpages %%start_time%% 0004.+allpages %%start_time%% 0001/ |
| wait_for_text_present_ok | Title (desc) | 10000 |
| select_ok | sort-picker | label=Title (desc) |
| wait_for_text_present_ok | Workspace Tour | 20000 |
| text_like | st-listview | qr/allpages %%start_time%% 0001.+allpages %%start_time%% 0004/ |
| wait_for_text_present_ok | Title (asc) | 10000 |
| select_ok | sort-picker | label=Title (asc) |
| text_like | st-listview | qr/allpages %%start_time%% 0004.+allpages %%start_time%% 0001/ |

| select_ok | sort-picker | label=Date |
| wait_for_text_present_ok | jabber | 20000 |
| text_like | st-listview | qr/allpages %%start_time%% 0004.+allpages %%start_time%% 0001/ |
| wait_for_text_present_ok | Date (asc) | 10000 |
| select_ok | sort-picker | label=Date (asc) |
| text_like | st-listview | qr/allpages %%start_time%% 0004.+allpages %%start_time%% 0001/ |
| wait_for_text_present_ok | Date (desc) | 10000 |
| select_ok | sort-picker | label=Date (desc) |
| text_like | st-listview | qr/allpages %%start_time%% 0001.+allpages %%start_time%% 0004/ |

| select_ok | sort-picker | label=Revisions |
| wait_for_text_present_ok | jabber | 20000 |
| text_like | st-listview | qr/allpages %%start_time%% 0001.+allpages %%start_time%% 0004/ |
| wait_for_text_present_ok | Revisions (asc) | 10000 |
| select_ok | sort-picker | label=Revisions (asc) |
| text_like | st-listview | qr/allpages %%start_time%% 0001.+allpages %%start_time%% 0004/ |
| wait_for_text_present_ok | Revisions (desc) | 10000 |
| select_ok | sort-picker | label=Revisions (desc) |
| text_like | st-listview | qr/allpages %%start_time%% 0001.+allpages %%start_time%% 0004/ |

create a user that lexically precedes the logged in user by creating a user that begins with start_time
However, don't use %%email%% in that username because that permanently creates another user name in the user DB that
contains %%email%% as a substring and that messes up other tests like Test Case: Email

 *Comment* | Test Case: All Pages verify revision by user %%s_user%% | |

| set | s_user | %%start_time%%@%%start_time%%.socialtext.net |
| st-admin | create-user --email %%s_user%% --password 123456 |  |
| st-admin | add-member --email %%s_user%% --workspace %%workspace%% |  |
| st-logout |  |  |
| st-login | %%s_user%% | 123456 |

| wait_for_element_visible_ok | st-wiki-subnav-link-all-pages | 15000 |
| click_and_wait | st-wiki-subnav-link-all-pages |
| click_and_wait | link=allpages %%start_time%% 0003 |  |
| click_ok | st-edit-button-link |  |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 10000 |
| type_ok | wikiwyg_wikitext_textarea | revision by user %%s_user%% |
| click_and_wait | st-save-button-link |  |

| click_and_wait | st-home-link |  |
| click_and_wait | st-wiki-subnav-link-all-pages |  |
| select_ok | sort-picker | label=Last Edited By |
| wait_for_text_present_ok | Another Salary | 20000 |
| text_like | st-listview | qr/allpages %%start_time%% 0003.+allpages %%start_time%% 0001/ |
| wait_for_text_present_ok | Last Edited By (desc) | 10000 |
| select_ok | sort-picker | label=Last Edited By (desc) |
| text_like | st-listview | qr/allpages %%start_time%% 0003.+allpages %%start_time%% 0001/ |
| wait_for_text_present_ok | Last Edited By (asc) |  |
| select_ok | sort-picker | label=Last Edited By (asc) |
| text_like | st-listview | qr/allpages %%start_time%% 0001.+allpages %%start_time%% 0003/ |

| *Comment* | Test Case: All Pages switch back to Titles view |  |
| click_and_wait | link=Titles |  |
| select_ok | sort-picker | label=Last Edited By |
| wait_for_text_present_ok | Another Salary | 20000 |
| text_like | st-listview | qr/allpages %%start_time%% 0003.+allpages %%start_time%% 0001/ |
| wait_for_text_present_ok | Last Edited By (desc) | 10000 |
| select_ok | sort-picker | label=Last Edited By (desc) |
| text_like | st-listview | qr/allpages %%start_time%% 0003.+allpages %%start_time%% 0001/ |
| wait_for_text_present_ok | Last Edited By (asc) |  |
| select_ok | sort-picker | label=Last Edited By (asc) |
| text_like | st-listview | qr/allpages %%start_time%% 0001.+allpages %%start_time%% 0003/ |

 *Comment* | Test Case: All Pages Teardown. No need to login again. | |

| st-admin | purge-page --workspace %%workspace%% --page allpages_%%start_time%%_0001 |  |
| st-admin | purge-page --workspace %%workspace%% --page allpages_%%start_time%%_0002 |  |
| st-admin | purge-page --workspace %%workspace%% --page allpages_%%start_time%%_0003 |  |
| st-admin | purge-page --workspace %%workspace%% --page allpages_%%start_time%%_0004 |  |
| st-admin | purge-page --workspace %%workspace%% --page allpages_%%start_time%%_0005 |  |
| st-admin | remove-member --email %%s_user%% --workspace %%workspace%% |  |

| *Comment* | Test Case: All Pages COMPLETED |  |
