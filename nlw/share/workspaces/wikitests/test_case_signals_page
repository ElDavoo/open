| *Comment* | STARTING Test case: Signals Page |

* Fixture: SocialWidgets

| *Comment* | Test Case: Signals Page |  |

| set-default | mark | single |
| set-default | network | %%hostname%% |

| *Comment* | Test Case: Signals Page. Get to the Signals page |  |
| open_ok | /?signals |  |
| wait_for_text_present_ok | Send a Signal | 60000 |

| *Comment* | Test Case: Signals Page. Send four signals |  |
| st-name-widget | 1 | signals_widget |
| st-widget-title-like | signals_widget | Send a Signal |
| st-select-widget-frame | signals_widget |  |

| *Comment* | Test Case: Signals Page. Once Upon A Time |  |
| selectFrame | signalFrame |  |
| wait_for_element_visible_ok | //body | 10000 |
| type_ok | //body | Once Upon A Time %%start_time%% %%mark%% |
| select-frame | relative=parent |  |
| wait_for_element_visible_ok | post | 10000 |
| click_ok | post |  |
| *Comment* | Test Case: Signals Page. Signals must be spaced by at least two seconds |  |
| pause | 3000 |  |

| *Comment* | Test Case: Signals Page. I Remember Long Ago |  |
| selectFrame | signalFrame |  |
| wait_for_element_visible_ok | //body | 10000 |
| type_ok | //body | I Remember Long Ago %%start_time%% %%mark%% |
| select-frame | relative=parent |  |
| wait_for_element_visible_ok | post | 10000 |
| click_ok | post |  |
| *Comment* | Test Case: Signals Page. Signals must be spaced by at least two seconds |  |
| pause | 3000 |  |

| *Comment* | Test Case: Signals Page. Way Back In History |  |
| selectFrame | signalFrame |  |
| wait_for_element_visible_ok | //body | 10000 |
| type_ok | //body | Way Back In History %%start_time%% %%mark%% |
| select-frame | relative=parent |  |
| wait_for_element_visible_ok | post | 10000 |
| click_ok | post |  |
| *Comment* | Test Case: Signals Page. Signals must be spaced by at least two seconds |  |
| pause | 3000 |  |

| *Comment* | Test Case: Signals Page. I May Be Kinda Slow |  |
| selectFrame | signalFrame |  |
| wait_for_element_visible_ok | //body | 10000 |
| type_ok | //body | I May Be Kinda Slow %%start_time%% %%mark%% |
| select-frame | relative=parent |  |
| wait_for_element_visible_ok | post | 10000 |
| click_ok | post |  |

| *Comment* | Test Case: Signals Page. Verify signals in page. |  |
| select-frame | relative=parent |  |
| wait_for_element_present_ok | //iframe[@name='widget_2'] | 30000 |
| st-name-widget | 3 | signal_activity |
| st-select-widget-frame | signal_activity |  |

| wait_for_text_present_ok | Once Upon A Time %%start_time%% %%mark%% | 120000 |
| wait_for_text_present_ok | I Remember Long Ago %%start_time%% %%mark%% | 120000 |
| wait_for_text_present_ok | Way Back In History %%start_time%% %%mark%% | 120000 |
| wait_for_text_present_ok | I May Be Kinda Slow %%start_time%% %%mark%% | 120000 |
| text_like | //body | qr/You.+to.+%%network%%/ism |

| *Comment* | Test Case: Signals widget. Wait for automatic refresh to "one minute ago" in page |  |
| wait_for_text_present_ok | one minute ago | 120000 |
| select-frame | relative=parent |  |
| wait_for_element_present_ok | //iframe[@name='widget_2'] | 30000 |

| *Comment* | Test Case: Signals Page Teardown |  |

| *Comment* | Test Case: Signals Page COMPLETED |  |

TODO: write a second TC that exercises all signals, signals from followers only, older, newer, newest
