| *Comment* | Test Case: Tools: Rename Page |

| *Comment* | Test Case: Tools: Rename Page Create test page |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| click_and_wait | st-newpage-link |  |
| wait_for_element_visible_ok | link=Advanced | 10000 |
| click_ok | link=Advanced |  |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 10000 |
| type_ok | st-newpage-pagename-edit | rename_%%start_time%% |
| type_ok | wikiwyg_wikitext_textarea | rename_%%start_time%%_content |
| click_ok | st-edit-mode-tagbutton |  |
| type_ok | st-tagqueue-field | rename_tag_%%start_time%% |
| click_ok | st-tagqueue-submitbutton |  |
| click_ok | st-tagqueue-closebutton |  |
| click_and_wait | st-save-button-link |  |

| *Comment* | Test Case: Tools: Rename Page Test Rename popup, rename the page |  |
| MouseOver | st-pagetools-tools |  |
| click_ok | link=Rename Page |  |
| pause | 1000 |  |
| open_ok | /%%workspace%%/index.cgi?action=rename_popup;page_name=rename_%%start_time%% |  |
| wait_for_text_present_ok | Rename | 30000 |
| type_ok | new_title | renamed_page_%%start_time%% |
| click_and_wait | Button |  |
| open_ok | /%%workspace%%/index.cgi?renamed_page_%%start_time%% |  |
| text_like | st-tags | rename_tag_%%start_time%% |
| text_like | st-incoming-links | rename_%%start_time%% |
| click_and_wait | link=rename_%%start_time%% |  |
| text_like | st-page-maincontent | Page renamed to renamed_page_%%start_time%% |
| click_and_wait | st-rewind-revision-count |  |
| text_like | st-revisionlist | revision 2 |
| open_ok | /%%workspace%%/index.cgi?renamed_page_%%start_time%% |  |
| MouseOver | st-pagetools-tools |  |
| click_ok | link=Rename Page |  |
| pause | 1000 |  |
| open_ok | /%%workspace%%/index.cgi?action=rename_popup;page_name=renamed_page_%%start_time%% |  |

| *Comment* | BZ 325 |  |
| wait_for_text_present_ok | Rename | 30000 |
| type_ok | new_title | Untitled Page |
| click_and_wait | Button |  |
| text_like | st-popup-rename | The page name you selected, "Untitled Page", is not allowed. Please enter or change the page name. |
| wait_for_text_present_ok | Rename | 30000 |
| type_ok | new_title | untitled page |
| click_and_wait | Button |  |
| text_like | st-popup-rename | The page name you selected, "untitled page", is not allowed. Please enter or change the page name. |
| wait_for_text_present_ok | Rename | 30000 |
| type_ok | new_title | uNtItLeD pAgE |
| click_and_wait | Button |  |
| text_like | st-popup-rename | The page name you selected, "uNtItLeD pAgE", is not allowed. Please enter or change the page name. |
| *Comment* | end BZ 325 |  |

| wait_for_text_present_ok | Rename | 30000 |
| type_ok | new_title | rename_%%start_time%% |
| click_and_wait | Button |  |
| text_like | st-popup-rename | The new page name you selected, "rename_%%start_time%%", is already in use. Please choose a different name. If you are sure you wish to overwrite the existing "rename_%%start_time%%" page, please press "Rename" again. |

| click_and_wait | Button |  |
| open_ok | /%%workspace%%/index.cgi?rename_%%start_time%% |  |
| text_like | st-page-maincontent | rename_%%start_time%%_content |
| click_and_wait | st-rewind-revision-count |  |
| text_like | st-revisionlist | revision 2 |
| click_and_wait | Button |  |
| text_like | st-revision-compare-table | Page renamed to [renamed_page_%%start_time%%] |
| text_like | st-revision-compare-table | rename_%%start_time%%_content |

| *Comment* | Test Case: Tools: Rename Page Teardown |  |
| open_ok | /%%workspace%%/index.cgi?rename_%%start_time%% |  |
| click_and_wait | link=Delete Page |  |
| confirmation_like | Are you sure you want to delete this page? |  |

| open_ok | /%%workspace%%/index.cgi?renamed_page_%%start_time%% |  |
| click_and_wait | link=Delete Page |  |
| confirmation_like | Are you sure you want to delete this page? |  |

| *Comment* | Test Case: Tools: Rename Page COMPLETED |
