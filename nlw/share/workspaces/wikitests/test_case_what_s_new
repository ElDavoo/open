| *Comment* | Test Case: What's New create four pages |  |

| st-admin | update-page --email %%email%% --workspace %%workspace%% --page "hey whats new %%start_time%% 0001" < %%wikitest_client_files%%wikitest.txt | The "hey whats new %%start_time%% 0001" page has been created. |
| st-admin | update-page --email %%email%% --workspace %%workspace%% --page "hey whats new %%start_time%% 0002" < %%wikitest_client_files%%wikitest.txt | The "hey whats new %%start_time%% 0002" page has been created. |
| st-admin | update-page --email %%email%% --workspace %%workspace%% --page "hey whats new %%start_time%% 0003" < %%wikitest_client_files%%wikitest.txt | The "hey whats new %%start_time%% 0003" page has been created. |
| st-admin | update-page --email %%email%% --workspace %%workspace%% --page "hey whats new %%start_time%% 0004" < %%wikitest_client_files%%wikitest.txt | The "hey whats new %%start_time%% 0004" page has been created. |

| *Comment* | Test Case: What's New list view |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| text_like | st-wiki-title | Dashboard: |
| click_and_wait | st-whats-new-title-link |  |
| text_like | Changes in Last |  |
| clickAndWait | link=All Pages |  |
| text_like | All Pages ( |  |

| *Comment* | Test Case: What's New Sorting tests |  |
| click_and_wait | link=What's New |  |
| text_like | Changes in Last |  |

| *Comment* | Test Case: What's New default sorted Date desc |  |
| text_like | st-recent_changes-content | qr/hey whats new %%start_time%% 0004.+hey whats new %%start_time%% 0001/ |

| *Comment* | Test Case: What's New sort Title asc |  |
| select_ok | sort-picker | label=Title |
| pause | 10000 |  |
| text_like | st-recent_changes-content | qr/hey whats new %%start_time%% 0001.+hey whats new %%start_time%% 0004/ |

| *Comment* | label=Title (↓ ) |  |

| *Comment* | Test Case: What's New sort Title desc |  |
| select_ok | sort-picker | index=1 |
| pause | 10000 |  |
| text_like | st-recent_changes-content | qr/hey whats new %%start_time%% 0004.+hey whats new %%start_time%% 0001/ |

| *Comment* | label=Title (↑) |  |

| *Comment* | Test Case: What's New sort Title asc |  |
| select_ok | sort-picker | index=1 |
| pause | 10000 |  |
| text_like | st-recent_changes-content | qr/hey whats new %%start_time%% 0001.+hey whats new %%start_time%% 0004/ |

| *Comment* | Test Case: What's New add a new page |  |
| st-admin | update-page --email %%email%% --workspace %%workspace%% --page "hey whats new %%start_time%% 0005" < %%wikitest_client_files%%wikitest.txt | The "hey whats new %%start_time%% 0005" page has been created. |

| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| clickAndWait | st-wiki-subnav-link-whats-new |  |

| *Comment* | label=Date (↑) |  |

| *Comment* | Test Case: What's New sort Date asc |  |
| select_ok | sort-picker | index=3 |
| pause | 10000 |  |
| text_like | st-recent_changes-content | qr/hey whats new %%start_time%% 0004.+hey whats new %%start_time%% 0005/ |

| *Comment* | label=Date (↓ ) |  |

| *Comment* | Test Case: What's New sort Date desc |  |
| select_ok | sort-picker | index=3 |
| pause | 10000 |  |
| text_like | st-recent_changes-content | qr/hey whats new %%start_time%% 0003.+hey whats new %%start_time%% 0002/ |

| *Comment* | Test Case: What's New create Rev 2 |  |
| st-admin | update-page --email %%email%% --workspace %%workspace%% --page "hey whats new %%start_time%% 0005" < %%wikitest_client_files%%wikitest.txt | The "hey whats new %%start_time%% 0005" page has been updated. |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| click_and_wait | st-wiki-subnav-link-whats-new |  |

| *Comment* | Test Case: What's New sort Revisions desc |  |
| select_ok | sort-picker | label=Revisions |
| pause | 10000 |  |
| text_like | st-recent_changes-content | qr/hey whats new %%start_time%% 0005.+hey whats new %%start_time%% 0004/ |

| *Comment* | label=Revisions (↑) |  |

| *Comment* | Test Case: What's New sort Revisions asc |  |
| select_ok | sort-picker | index=4 |
| pause | 10000 |  |
| text_like | st-recent_changes-content | qr/hey whats new %%start_time%% 0004.+hey whats new %%start_time%% 0005/ |

| *Comment* | label=Revisions (↓ ) |  |

| *Comment* | Test Case: What's New sort Revisions desc |  |
| select_ok | sort-picker | index=4 |
| pause | 10000 |  |
| text_like | st-recent_changes-content | qr/hey whats new %%start_time%% 0005.+hey whats new %%start_time%% 0004/ |

| *Comment* | Test Case: What's New delete page |  |
| st-admin | purge-page --w %%workspace%% --p hey_whats_new_%%start_time%%_0004 | purged |

| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| click_and_wait | st-wiki-subnav-link-whats-new |  |
| text_unlike | st-listview | hey whats new %%start_time%% 0004 |

| open_ok | /%%workspace%%/index.cgi?hey whats_new %%start_time%% 0003 |  |
| click_and_wait | st-rewind-revision-count |  |
| text_like | st-page-title | All Revisions |
| text_unlike | st-revisionlist | revision 2 |
| VerifyValue | Button | Compare Revisions |

| *Comment* | Test Case: What's New Teardown |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| st-admin | purge-page --workspace %%workspace%% --page hey_whats_new_%%start_time%%_0001 | page was purged |
| st-admin | purge-page --workspace %%workspace%% --page hey_whats_new_%%start_time%%_0002 | page was purged |
| st-admin | purge-page --workspace %%workspace%% --page hey_whats_new_%%start_time%%_0003 | page was purged |
| st-admin | purge-page --workspace %%workspace%% --page hey_whats_new_%%start_time%%_0005 | page was purged |

| *Comment* | Test Case: What's New COMPLETED |  |
