| *Comment* | Test Case: Friendly Name |  |

* Fixture: SocialWidgets

| set | fname_user | fname_user_%%start_time%%@david.socialtext.net |
| set | fname | Bob_%%start_time%% |
| set | fname_checker | fname_checker_%%start_time%%@david.socialtext.net |
| set | fname_acct | fname_account_%%start_time%% |
| set | fname_wiki | fname_wiki_%%start_time%% |
| st-admin | create-account --name %%fname_acct%% |  |
| st-admin | create-workspace --name %%fname_wiki%% --title %%fname_wiki%% --account %%fname_acct%% |  |
| st-admin | create-user --email %%fname_user%% --password %%password%% --account %%fname_acct%% | was created |
| st-admin | create-user --email %%fname_checker%% --password %%password%% --account %%fname_acct%% | was created |
| st-admin | add-member --email %%fname_user%% --workspace %%fname_wiki%% |  |
| st-admin | add-member --email %%fname_checker%% --workspace %%fname_wiki%% |  |
| st-logoutin | %%fname_user%% | %%password%% |

| *Comment* | Test Case: Friendly Name edit preferred name |  |
| open_ok | /st/edit_profile |  |
| wait_for_element_visible_ok | field_preferred_name | 30000 |
| type_ok | field_preferred_name | %%fname%% |
| wait_for_element_visible_ok | update_profile | 30000 |
| click_and_wait | update_profile | 30000 |
| st-name-widget | 1 | profile_widget |
| st-widget-title-like | profile_widget | Profile |
| st-select-widget-frame | profile_widget |  |
| wait_for_text_present_ok | %%fname%% | 30000 |
| select-frame | relative=parent |  |

| *Comment* | Test Case: Friendly Name send Signal |  |
| http-user-pass | %%fname_user%% | %%password%% |
| post-signal | signal text |  |
| pause | 3000 |  |
| st_process_jobs | SignalIndex |  |







| *Comment* | Test Case: Friendly Name Check everything |  |
| st-logoutin | %%fname_checker%% | %%password%% |
| open_ok | /st/signals |  |
| wait_for_element_present_ok | link=%%fname%% | 30000 |
| open_ok | /st/dashboard |  |
| st-name-widget | 3 | activities_widget |
| st-widget-title-like | activities_widget | Activities |
| st-select-widget-frame | activities_widget |  |
| wait_for_element_present_ok | link=%%fname%% | 30000 |
| select-frame | relative=parent |  |  | *Comment* | Test Case: Friendly Name teardown |  |
| st-admin | deactivate-user --email %%fname_user%% |  |
| st-admin | deactivate-user --email %%fname_checker%% |  |
| st-admin | delete-workspace --workspace %%fname_wiki%% |  |
