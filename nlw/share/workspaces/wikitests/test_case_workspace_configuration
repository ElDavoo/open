TODO: Figure out a way to test the other config functions

| *Comment* | Test Case: Workspace Configuration |

| *Comment* | Test Case: Workspace Configuration Comment Form Notes |  |
| st-admin | set_workspace_config --workspace %%workspace%% comment_form_note_bottom "bottoms up" |  |
| st-admin | set_workspace_config --workspace %%workspace%% comment_form_note_top "All Hands Topside" |  |
| click_and_wait | link=Announcements and Links |  |
| click_ok | st-comment-button-link |  |
| open_ok | /%%workspace%%/index.cgi?action=enter_comment;page_name=announcements_and_links;caller_action=display |  |
| text_like | st-commentui-notebottom | bottoms up |
| text_like | st-commentui-notetop | All Hands Topside |
| open_ok | /%%workspace%%/index.cgi |  |

| *Comment* | Test Case: Workspace Configuration Email Notification |  |
| st-admin | set_workspace_config --workspace %%workspace%% email_notify_is_enabled 0 |  |
| click_and_wait | link=Settings |  |
| text_unlike | st-settings-select | Email Notification |

| *Comment* | Test Case: Workspace Configuration Weblog Email Format |  |
| st-admin | set_workspace_config --workspace %%workspace%% email_weblog_dot_address 1 |  |
| click_and_wait | link=Create New Weblog |  |
| type_ok | weblog_title | %%start_time%% |
| click_and_wait | Button |  |
| text_like | st-weblog-postbyemail-link | %%workspace%%.%%start_time%% |

| *Comment* | Test Case: Workspace Configuration Homepage Setting |  |
| st-admin | set_workspace_config --workspace %%workspace%% homepage_is_dashboard 0 |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| text_like | st-page-maincontent | This is the home page for |
| st-admin | set_workspace_config --workspace %%workspace%% homepage_is_dashboard 1 |  |

| *Comment* | Test Case: Workspace Configuration Invitation Settings |  |
| st-admin | set_workspace_config --workspace %%workspace%% invitation_filter %%username%% |  |
| st-admin | set_workspace_config --workspace %%workspace%% restrict_invitation_to_search 1 |  |
| click_and_wait | link=Settings |  |
| click_and_wait | link=Invite New Users |  |
| text_like | st-settings-section | match this pattern: %%username%% |
| text_like | st-settings-section | Search for Users |

| *Comment* | Test Case: Workspace Configuration Invitation search and invite user {bz: 547} |  |
| type_ok | user_search | %%username%% |
| click_and_wait | Button |  |
| text_like | Select/Deselect All |  |
| text_like | st-settings-pane | %%username%% |
| check_ok | all |  |
| click_and_wait | //input[@value='Invite'] |  |
| text_like | st-settings-section | %%username%% |

| *Comment* | Test Case: Workspace Configuration Weblog Sort Order |  |
| st-admin | set_workspace_config --workspace %%workspace%% sort_weblogs_by_create 1 |  |
| click_and_wait | link=Weblogs |  |
| click_and_wait | st-weblog-newpost-button |  |
| wait_for_element_visible_ok | link=Advanced | 10000 |
| click_ok | link=Advanced |  |
| wait_for_element_visible_ok | st-newpage-pagename-edit | 10000 |
| type_ok | st-newpage-pagename-edit | post2 %%start_time%% |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 10000 |
| type_ok | wikiwyg_wikitext_textarea | post2content %%start_time%% |
| click_and_wait | st-save-button-link |  |
| open_ok | /%%workspace%%/index.cgi?action=display;page_name=first_post_in_%%start_time%%_weblog;caller_action=weblog_display;category=%%start_time%%_weblog;js=show_edit_div#edit |  |
| wait_for_element_visible_ok | link=Advanced | 10000 |
| click_ok | link=Advanced |  |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 10000 |
| type_ok | wikiwyg_wikitext_textarea | revision1 |
| click_and_wait | st-save-button-link |  |
| text_like | st-weblog-content | qr/post2.+revision1/ |

| *Comment* | Test Case: Workspace Configuration Selective Email Unmasking |  |
| st-admin | set_workspace_config --workspace %%workspace%% unmasked_email_domain gmail.com |  |
| st-admin | create-user --email %%start_time%%@gmail.com --password 123456 |  |
| st-admin | add-member --email %%start_time%%@gmail.com --workspace %%workspace%% |  |
| st-logoutin | %%start_time%%@gmail.com | 123456 |
| click_and_wait | st-newpage-link |  |
| wait_for_element_visible_ok | link=Advanced | 10000 |
| click_ok | link=Advanced |  |
| type_ok | st-newpage-pagename-edit | email %%start_time%% |
| click_and_wait | st-save-button-link |  |
| text_like | st-created | gmail.com |

| *Comment* | Test Case: Workspace Configuration Comment Custom Fields |  |
| st-admin | set-comment-form-custom-fields --workspace %%workspace%% "Field A" "Bee Field" "Red Field" |  |
| open_ok | /%%workspace%%/index.cgi?action=homepage |  |
| click_and_wait | link=Announcements and Links |  |
| click_ok | st-comment-button-link |  |
| open_ok | /%%workspace%%/index.cgi?action=enter_comment;page_name=announcements_and_links;caller_action=display |  |
| text_like | comment_form | Field A |
| text_like | comment_form | Bee Field |
| text_like | comment_form | Red Field |

| *Comment* | Test Case: Workspace Configuration Teardown |  |
| st-admin | purge-page --w %%workspace%% --page first_post_in_%%start_time%%_weblog | The First Post in %%start_time%% Weblog page was purged from the %%workspace%% workspace. |
| st-admin | purge-page --w %%workspace%% --page post2_%%start_time%% | The post2 %%start_time%% page was purged from the %%workspace%% workspace. |
| st-admin | purge-page --w %%workspace%% --page email_%%start_time%% | The email %%start_time%% page was purged from the %%workspace%% workspace. |
| st-admin | remove-member --email %%start_time%%@gmail.com --workspace %%workspace%% |  |

| st-admin | set_workspace_config --workspace %%workspace%% comment_form_note_bottom "" |  |
| st-admin | set_workspace_config --workspace %%workspace%% comment_form_note_top "" |  |
| st-admin | set_workspace_config --workspace %%workspace%% email_addresses_are_hidden 0 |  |
| st-admin | set_workspace_config --workspace %%workspace%% email_notify_is_enabled 1 |  |
| st-admin | set_workspace_config --workspace %%workspace%% email_weblog_dot_address 0 |  |
| st-admin | set_workspace_config --workspace %%workspace%% invitation_filter "" |  |
| st-admin | set_workspace_config --workspace %%workspace%% restrict_invitation_to_search 0 |  |
| st-admin | set_workspace_config --workspace %%workspace%% sort_weblogs_by_create 0 |  |
| st-admin | set_workspace_config --workspace %%workspace%% unmasked_email_domain "" |  |
| st-admin | set-comment-form-custom-fields --workspace %%workspace%% |  |

| *Comment* | Test Case: Workspace Configuration COMPLETED |
