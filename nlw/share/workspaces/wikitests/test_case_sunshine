| *Comment* | Test Case: Sunshine |  |

* Fixture: SocialWidgets

| set | user | sunshine.user.%%start_time%%@david.socialtext.net |
| set | user_short | sunshine user %%start_time%% |
| set | user_prefix | sunshine |
| set | user_suffix | user %%start_time%% |
| set | acct | sunshine_account_%%start_time%% |
| set | wiki | sunshine-wiki-%%start_time%% |
| set | group | sunshine-group-%%start_time%% |

| create-account | %%acct%% |  |  |
| create-user | %%user%% | %%password%% | %%acct%% |
| st-admin | give-accounts-admin --email %%user%% | now has accounts |  |
| st-logoutin | %%user%% | %%password%% |  |

| *Comment* | Test Case: Sunshine create a new wiki |  |
| open_ok | /nlw/control/workspaces/new |  |
| wait_for_element_visible_ok | workspace_title | 30000 |
| type_ok | workspace_title | %%wiki%% |
| wait_for_element_visible_ok | addUserLookahead | 30000 |
| type_lookahead_ok | addUserLookahead | %%user_prefix%% |
| wait_for_element_visible_ok | //div[@class='lookaheadItem']/a[contains(text(),'%%user_suffix%%')] | 30000 |
| click_ok | //div[@class='lookaheadItem']/a[contains(text(),'%%user_suffix%%')] |  |
| wait_for_element_visible_ok | link=%%user%% | 30000 |
| wait_for_element_visible_ok | userTable-dropdown-2-0 | 30000 |
| select_and_wait | userTable-dropdown-2-0 | label=Admin |
| click_and_wait | create |  |
| wait_for_text_present_ok | Usage Reports | 30000 |

| *Comment* | Test Case: Sunshine create a new group |  |
| open_ok | /nlw/control |  |
| wait_for_element_visible_ok | link=Create a Group | 30000 |
| click_ok | link=Create a Group |  |
| wait_for_element_visible_ok | st-groupname | 30000 |
| type_ok | st-groupname | %%group%% |
| click_and_wait | st-group-create-submit |  |
| wait_for_text_present_ok | Created By: %%user_short%% | 30000 |

| *Comment* | Test Case: Sunshine check the dashboard |  |
| open_ok | /st/dashboard |  |
| wait_for_text_present_ok | Welcome, New User | 30000 |
| st-name-widget | 1 | newbie |
| st-widget-title-like | newbie | I'm new. What do I do? |
| st-name-widget | 4 | ticker |
| st-widget-title-like | ticker | Activities |
| st-select-widget-frame | ticker |  |
| wait_for_text_present_ok | edited Example Page: Project Tracking in %%wiki%%. | 30000 |
| select-frame | relative=parent |  |

| *Comment* | Test Case: Sunshine check people directory and profile page |  |
| click_and_wait | link=People |  |
| wait_for_text_present_ok | %%user%% | 30000 |
| click_and_wait | //a[@class='realName'] |  |
| location_like | /st/profile/%%user_id%% |  |
| st-name-widget | 4 | wiki |
| st-widget-title-like | wiki | Workspaces |
| st-select-widget-frame | wiki |  |
| wait_for_element_visible_ok | link=%%wiki%% | 30000 |
| select-frame | relative=parent |  |

| *Comment* | Test Case: Sunshine check the group directory and group page |  |
| click_and_wait | link=Groups |  |
| wait_for_text_present_ok | All Available Groups | 30000 |
| wait_for_element_visible_ok | link=%%group%% | 30000 |
| click_and_wait | link=%%group%% |  |
| wait_for_text_present_ok | (self-join) | 30000 |
| st-name-widget | 3 | ticker |
| st-widget-title-like | ticker | Activities |
| st-select-widget-frame | ticker |  |
| wait_for_text_present_ok | joined the group %%group%%. | 30000 |
| select-frame | relative=parent |  |

| *Comment* | Test Case: Sunshine check Signals page and send a signal |  |
| click_and_wait | link=Signals |  |
