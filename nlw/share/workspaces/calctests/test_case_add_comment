| *Comment* | Test Case: Add Comment |

| setSpeed | 100 |  |
| *Comment* | Test Case: Add Comment Create Test Page |  |
| st-admin | set-user-names --e %%email%% --first Commenting --last User | User "%%username%%" was updated |
| click_and_wait | st-newpage-link |  |
| wait_for_element_visible_ok | link=Advanced | 30000 |
| click_ok | link=Advanced |  |
| wait_for_element_visible_ok | wikiwyg_wikitext_textarea | 10000 |
| type_ok | st-newpage-pagename-edit | Comment Test Page %%start_time%% |
| type_ok | wikiwyg_wikitext_textarea | Comment Test Page Content %%start_time%% |
| click_and_wait | st-save-button-link |  |

| *Comment* | Test Case: Add Comment Test Comments |  |
| click_ok | st-comment-button-link |  |
| open_ok | /%%workspace%%/index.cgi?action=enter_comment;page_name=comment_test_page_%%start_time%%;caller_action=display |  |
| wait_for_element_visible_ok | st-commentui-textarea | 30000 |
| type_ok | st-commentui-textarea | Comment 1 %%start_time%% |
| click_and_wait | st-commentui-savelink |  |
| open_ok | /%%workspace%%/index.cgi?comment_test_page_%%start_time%% |  |
| text_like | st-content-page-display | Comment 1 %%start_time%% |
| click_ok | st-edit-actions-below-fold-comment |  |
| open_ok | /%%workspace%%/index.cgi?action=enter_comment;page_name=comment_test_page_%%start_time%%;caller_action=display |  |
| wait_for_element_visible_ok | st-commentui-textarea | 30000 |
| type_ok | st-commentui-textarea | Comment 2 %%start_time%% |
| click_and_wait | st-commentui-savelink |  |
| open_ok | /%%workspace%%/index.cgi?comment_test_page_%%start_time%% |  |
| wait_for_element_visible_ok | st-content-page-display | 30000 |
| text_like | st-content-page-display | qr/Comment 1.+Comment 2/ |
| text_like | st-content-page-display | contributed by Commenting User |

| *Comment* | Test Case: Add Comment Teardown |  |
| st-admin | purge-page --w %%workspace%% --p comment_test_page_%%start_time%% | The Comment Test Page %%start_time%% page was purged from the %%workspace%% workspace. |
| st-admin | set-user-names --e %%email%% --first "" --last "" | User "%%username%%" was updated |

| *Comment* | Test Case: Add Comment COMPLETED |
