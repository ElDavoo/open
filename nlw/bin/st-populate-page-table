#!/usr/bin/perl
# @COPYRIGHT@
use strict;
use warnings;
use Getopt::Long;
use FindBin;
use lib "$FindBin::Bin/../lib";
use Socialtext::Page::TablePopulator;

my $workspace_name;
GetOptions(
    'workspace=s' => \$workspace_name,
) or usage();
usage() unless $workspace_name;

eval {
    my $populator = Socialtext::Page::TablePopulator->new(
        workspace_name => $workspace_name );
    $populator->populate;
};
if ($@) {
    warn $@;
    usage();
}
exit;

sub usage {
    die <<EOT;
USAGE: $0 --workspace <workspace_name>

This script will import page metadata from disk into the database
for the specified workspace.
EOT
}



